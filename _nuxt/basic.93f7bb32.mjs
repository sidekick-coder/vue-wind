import{e as w,r as B,a as f,D as F,E as S,o as u,h as r,t as V,u as o,G as b,p as A,j as x,z as $,H as y,F as C,B as z,c as D}from"./entry.3efad827.mjs";import{u as E,a as G}from"./validation.9116fd8b.mjs";const N=["for"],O={class:"relative"},R=["value"],T=["value","selected","textContent"],U=w({__name:"w-select",props:{label:{type:String,default:""},rules:{type:Array,default:()=>[]},modelValue:{default:""},options:{type:Array,default:()=>[]},valueKey:{type:String,default:void 0},labelKey:{type:String,default:void 0}},emits:["update:modelValue"],setup(d,{emit:i}){const a=d,s=z(),n=E(a.rules),l=G();s.add("w-full","py-3","px-4").add("focus:outline-none","outline-none").add("border","rounded","border-gray-300").add("focus:bg-white").add("text-gray-400","font-regular","text-sm").add("drop-shadow-sm").add("transition-all").add("relative"),s.createChild("label").add("block").add("text-gray-500","text-sm","font-bold","mb-3"),s.createChild("small").add("text-xs","mt-4","block","text-red-500");const m=B(null),p=f(()=>({select:s.make(),label:s.child("label").make(),small:s.child("small").make()})),c=f({get(){return a.modelValue},set(e){return e?i("update:modelValue",e.value):i("update:modelValue","")}}),g=f(()=>a.options.map(e=>({label:a.labelKey?e[a.labelKey]:e,value:a.valueKey?e[a.valueKey]:e})));function _(){return n.value.validate(a.modelValue)}function h(){n.value.reset()}l&&(l.inputs.value.push(_),l.resets.value.push(h)),F(c,n.value.validate),S(()=>{!l||(l.inputs.value.splice(l.inputs.value.indexOf(_),1),l.resets.value.splice(l.resets.value.indexOf(h),1))});function K(e){const k=e.target,t=g.value.find(v=>v.value===k.value);c.value=t}return(e,k)=>(u(),r(y,null,[d.label?(u(),r("label",{key:0,for:e.$attrs.id?String(e.$attrs.id):void 0,class:V(o(p).label)},b(d.label),11,N)):A("",!0),x("div",O,[x("select",$({ref_key:"selectRef",ref:m,value:o(c),onChange:K,class:o(p).select},e.$attrs),[(u(!0),r(y,null,C(o(g),(t,v)=>(u(),r("option",{key:v,value:t.value,selected:t.value===o(c),textContent:b(t.label)},null,8,T))),128))],16,R)]),(u(!0),r(y,null,C(o(n).messages.slice(0,1),t=>(u(),r("small",{class:V(o(p).small),key:t},b(t),3))),128))],64))}}),L=w({__name:"basic",setup(d){const i=[{name:"Apple"},{name:"Google"},{name:"Tesla"},{name:"Amazon"},{name:"Facebook"},{name:"Twitter"}],a=B("");return(s,n)=>{const l=U;return u(),D(l,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=m=>a.value=m),options:i,label:"Brand","label-key":"name","value-key":"name"},null,8,["modelValue"])}}});export{L as default};
