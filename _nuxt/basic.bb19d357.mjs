import{_ as $}from"./w-input.vue_vue_type_script_setup_true_lang.31c9fe31.mjs";import{_ as z}from"./w-menu.17cbdd1c.mjs";import{e as b,r as B,C as L,a as v,D as T,E as D,o as i,c as F,m as w,l as E,z as G,u as r,i as N,h as p,F as x,t as y,G as k,H as C,j as O,B as j}from"./entry.3efad827.mjs";import{u as H,a as P}from"./validation.9116fd8b.mjs";import"./input.568995dd.mjs";const R=["onMousedown"],q=b({inheritAttrs:!1}),I=b({...q,__name:"w-autocomplete",props:{rules:{type:Array,default:()=>[]},search:{type:String,default:""},modelValue:{default:""},options:{type:Array,default:()=>[]},valueKey:{type:String,default:void 0},labelKey:{type:String,default:void 0}},emits:["update:modelValue","update:search"],setup(h,{emit:m}){const a=h,u=H(a.rules),s=j(),t=P();s.createChild("list").add("max-h-[200px]").add("overflow-y-auto border bg-white"),s.createChild("item").add("py-2 px-4").add("cursor-pointer text-gray-500 hover:bg-gray-100").add("border-b last:border-b-0 border-gray-200"),s.createChild("small").add("text-xs","mt-4","block","text-red-500");const o=B(!1),n=L(a,"search",m),c=v({get(){return a.modelValue},set(e){return e?m("update:modelValue",e.value):m("update:modelValue","")}}),V=v(()=>a.options.map(e=>({label:a.labelKey?e[a.labelKey]:e,value:a.valueKey?e[a.valueKey]:e}))),f=v(()=>({list:s.child("list").make(),item:s.child("item").make(),small:s.child("small").make()}));function K(){n.value="",c.value="",o.value=!0,setTimeout(u.value.reset,50)}function A(){o.value=!1}function M(e){n.value=e.label,c.value=e,o.value=!1}function _(){const e=V.value.find(d=>d.value===c.value);return u.value.validate(e||"")}function g(){u.value.reset()}return t&&(t.inputs.value.push(_),t.resets.value.push(g)),T(c,_),D(()=>{!t||(t.inputs.value.splice(t.inputs.value.indexOf(_),1),t.resets.value.splice(t.resets.value.indexOf(g),1))}),(e,d)=>{const S=$,U=z;return i(),F(U,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=l=>o.value=l)},{activator:w(()=>[E(S,G({modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=l=>N(n)?n.value=l:null)},e.$attrs,{onFocus:K,onBlur:A}),null,16,["modelValue"]),(i(!0),p(C,null,x(r(u).messages.slice(0,1),l=>(i(),p("small",{class:y(r(f).small),key:l},k(l),3))),128))]),default:w(()=>[O("div",{class:y(r(f).list)},[(i(!0),p(C,null,x(r(V),l=>(i(),p("div",{class:y(r(f).item),key:l.value,onMousedown:J=>M(l)},k(l.label),43,R))),128))],2)]),_:1},8,["modelValue"])}}}),ee=b({__name:"basic",setup(h){const m=[{name:"Apple"},{name:"Google"},{name:"Tesla"},{name:"Amazon"},{name:"Facebook"},{name:"Twitter"}],a=B(""),u=v(()=>m.filter(s=>s.name.toLowerCase().includes(a.value.toLowerCase())));return(s,t)=>{const o=I;return i(),F(o,{search:a.value,"onUpdate:search":t[0]||(t[0]=n=>a.value=n),options:r(u),label:"Brand",placeholder:"Search for a brand","label-key":"name","value-key":"name"},null,8,["search","options"])}}});export{ee as default};
